import styled from '@emotion/styled'
import { useApp } from '../../stores/useApp'
import { Any } from '@fullstack-devtool/core'
import { NavListViews } from '../NavListViews'

const StyledHeader = styled.header`
  display: flex;
  align-items: center;
  gap: 40px;
  width: 100%;
  box-sizing: border-box;
`

const TitleContainer = styled.div`
  display: flex;
  align-items: center;
  gap: ${(props) => props.theme.margin.small};
  padding: ${(props) => props.theme.margin.medium};
  flex: 1;
`

const Title = styled.span`
  font-size: ${(props) => props.theme.fontSize.small};
  font-family: 'Lexend';
`

const ViewsListContainer = styled.div`
  display: flex;
  justify-content: flex-end;
  height: 100%;
`

export default function Header() {
  const version = useApp((state) => state.version)

  // webkit-app-region: drag is used to make the window draggable
  return (
    <StyledHeader>
      <TitleContainer style={{ WebkitAppRegion: 'drag' } as Any}>
        <svg width="31" height="10" viewBox="0 0 31 10" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M0.0560001 9V0.599999H2.096V9H0.0560001ZM1.004 5.784V4.08H5.348V5.784H1.004ZM1.004 2.4V0.599999H5.84V2.4H1.004ZM10.1994 9.12C9.64738 9.12 9.14738 9.056 8.69938 8.928C8.25938 8.792 7.86738 8.6 7.52338 8.352C7.17938 8.096 6.87138 7.796 6.59938 7.452L7.83538 6.048C8.23538 6.584 8.63538 6.944 9.03538 7.128C9.44338 7.312 9.86338 7.404 10.2954 7.404C10.5114 7.404 10.7074 7.376 10.8834 7.32C11.0594 7.264 11.1954 7.184 11.2914 7.08C11.3874 6.968 11.4354 6.832 11.4354 6.672C11.4354 6.552 11.4034 6.444 11.3394 6.348C11.2834 6.252 11.2034 6.168 11.0994 6.096C10.9954 6.024 10.8714 5.96 10.7274 5.904C10.5834 5.84 10.4314 5.788 10.2714 5.748C10.1114 5.7 9.94738 5.66 9.77938 5.628C9.31538 5.524 8.91138 5.396 8.56738 5.244C8.22338 5.092 7.93538 4.908 7.70338 4.692C7.47938 4.468 7.31138 4.216 7.19938 3.936C7.08738 3.648 7.03138 3.328 7.03138 2.976C7.03138 2.6 7.11538 2.256 7.28338 1.944C7.45938 1.624 7.69138 1.352 7.97938 1.128C8.27538 0.895999 8.61538 0.719999 8.99938 0.599999C9.38338 0.472 9.78338 0.408 10.1994 0.408C10.7514 0.408 11.2234 0.468 11.6154 0.588C12.0154 0.7 12.3554 0.864 12.6354 1.08C12.9234 1.296 13.1674 1.556 13.3674 1.86L12.1074 3.072C11.9394 2.864 11.7554 2.692 11.5554 2.556C11.3634 2.42 11.1554 2.316 10.9314 2.244C10.7154 2.172 10.4914 2.136 10.2594 2.136C10.0194 2.136 9.81138 2.168 9.63538 2.232C9.46738 2.288 9.33538 2.372 9.23938 2.484C9.14338 2.588 9.09538 2.716 9.09538 2.868C9.09538 3.004 9.13538 3.12 9.21538 3.216C9.29538 3.312 9.40338 3.4 9.53938 3.48C9.67538 3.552 9.83138 3.616 10.0074 3.672C10.1834 3.72 10.3674 3.76 10.5594 3.792C10.9994 3.88 11.3954 3.996 11.7474 4.14C12.1074 4.284 12.4154 4.46 12.6714 4.668C12.9354 4.876 13.1354 5.124 13.2714 5.412C13.4154 5.692 13.4874 6.02 13.4874 6.396C13.4874 6.98 13.3434 7.476 13.0554 7.884C12.7754 8.284 12.3874 8.592 11.8914 8.808C11.4034 9.016 10.8394 9.12 10.1994 9.12ZM15.0208 9V0.599999H18.5368C19.1528 0.599999 19.7168 0.704 20.2288 0.912C20.7408 1.112 21.1808 1.4 21.5488 1.776C21.9248 2.152 22.2128 2.596 22.4128 3.108C22.6128 3.62 22.7128 4.184 22.7128 4.8C22.7128 5.416 22.6128 5.984 22.4128 6.504C22.2128 7.016 21.9248 7.46 21.5488 7.836C21.1808 8.204 20.7408 8.492 20.2288 8.7C19.7168 8.9 19.1528 9 18.5368 9H15.0208ZM17.0608 7.608L16.7848 7.2H18.4768C18.8128 7.2 19.1128 7.144 19.3768 7.032C19.6408 6.912 19.8648 6.748 20.0488 6.54C20.2408 6.332 20.3888 6.08 20.4928 5.784C20.5968 5.488 20.6488 5.16 20.6488 4.8C20.6488 4.44 20.5968 4.112 20.4928 3.816C20.3888 3.52 20.2408 3.268 20.0488 3.06C19.8648 2.852 19.6408 2.692 19.3768 2.58C19.1128 2.46 18.8128 2.4 18.4768 2.4H16.7488L17.0608 2.016V7.608ZM25.7511 9V2.4H23.2551V0.599999H30.3471V2.4H27.7911V9H25.7511Z"
            fill="black"
          />
        </svg>
        <Title>FullStack-Devtool Console v.{version}</Title>
      </TitleContainer>
      <ViewsListContainer>
        <NavListViews />
      </ViewsListContainer>
    </StyledHeader>
  )
}
